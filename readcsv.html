<!DOCTYPE html>
<html>
<head>
<title>Show CSV Data</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.21/jquery.csv.min.js"></script>
<style>
  table { border-collapse: collapse; width: 100%; }
  th, td { border: 1px solid black; padding: 8px; text-align: left; }
</style>
</head>
<body>

<p>Choose your CSV file:</p>
<input type="file" id="csvFile" accept=".csv">

<div id="dataArea">
  <p>Your data will appear here.</p>
</div>

<script>
$(document).ready(function() {
  $('#csvFile').change(function(event) {
    let chosenFile = event.target.files[0]; // Get the file

    if (chosenFile) {
      let fileReader = new FileReader(); // Tool to read the file

      fileReader.onload = function(e) {
        let csvText = e.target.result; // The file's text
        let csvArray = $.csv.toArrays(csvText); // Turn text into data

        if (csvArray && csvArray.length > 0) {
          makeTable(csvArray); // Show the data as a table
        } else {
          $('#dataArea').text("The file is empty or not in the correct format.");
        }
      };

      fileReader.onerror = function() {
        $('#dataArea').text("Sorry, there was an error reading the file.");
      };

      fileReader.readAsText(chosenFile); // Start reading the file
    }
  });

  function makeTable(data) {
    let tableHtml = '<table>'; // Start creating the table

    data.forEach(row => { // For each row of data
      tableHtml += '<tr>'; // Start a new row

      row.forEach(cell => { // For each cell in the row
        tableHtml += '<td>' + cell + '</td>'; // Add the cell's data
      });

      tableHtml += '</tr>'; // End the row
    });

    tableHtml += '</table>'; // Finish the table
    $('#dataArea').html(tableHtml); // Show the table on the page
  }
});
</script>

</body>
</html>